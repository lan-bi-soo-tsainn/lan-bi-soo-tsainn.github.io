<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>理髮廳</title>
    <link rel="stylesheet" href="css/detail.css">
    <script async src="https://unpkg.com/es-module-shims/dist/es-module-shims.js"></script>

    <script type="importmap">
	{
		"imports": {
			"three": "https://unpkg.com/three/build/three.module.js"
		}
	}
</script>
</head>

<body>
    <div class="music-block">
        <div class="arrow-btn">
            <img src="/assets/arrow-btn.png" />
        </div>
        <img class="detail-street-img" src="/assets/detail_barber.png" />
        <div class="angle"></div>
        <audio id="music" controls src="/assets/test.mp3"></audio>
    </div>
    <article>
        <section class="video-block">
            <img class="video-block-background" src="/assets/background.png"
                srcset="/assets/background.png 500w, /assets/background.png 1000w, /assets/background.png 1500w" />
            <div class="video-block-intro">
                <div class="video-block-intro-content">
                    <h1>理髮廳</h1>
                    <p>THE WARMTH<br />DEDICATED TO<br />THE EARLY<br />HOURS OF DAWN</p>
                </div>
                <div class="video-block-intro-3d">
                </div>
            </div>
            <div class="video-block-video-block">
                <video autoplay muted loop playsinline id="indexVideo">
                    <source src="https://res.cloudinary.com/dqqtpvsau/video/upload/v1707577134/samples/sea-turtle.mp4"
                        type="video/mp4">
                </video>
            </div>
        </section>
        <section class="article-block">
            <div class="article-block-word">
                <p>在這個繁忙的城市，市場承載著生活的起伏，<br>而在清晨的時光裡，它展現出一種凌晨限定的溫暖。</p>
                <p>夜未完全褪去，市場早已喚醒。<br>橙色的陽光透過市場的招牌，<br>輕輕灑在擺滿各色食材的攤位上。</p>
                <p>清新的空氣中彌漫著新鮮蔬果的香氣，<br>彷彿是一場大自然的綻放。</p>
                <p>攤販們早早來到這片熟悉的場所，<br>他們的笑容在晨光中顯得格外燦爛。</p>
                <p>老闆娘熱情地和顧客攀談<br>彼此間的交流讓整個市場充滿了溫馨和親切。</p>
            </div>
            <div class="article-block-word en">
                <p>In this bustling city, the market carries the ebb and flow of life, revealing a kind of dawn-limited
                    warmth in the early morning.</p>
                <p>Before the night completely fades away, the market is already awake. The orange sunlight gently
                    sprinkles through the market's signs, casting a soft glow on stalls filled with various ingredients.
                    The fresh air is filled with the aroma of crisp fruits and vegetables, resembling a blossoming scene
                    from nature.</p>
                <p>Vendors arrive early at this familiar place, their smiles shining brightly in the morning light. The
                    market's proprietress engages warmly with customers, creating an atmosphere full of warmth and
                    friendliness.</p>
            </div>
        </section>
        <div class="top-btn" data-action="gotop">
            <img src="/assets/btn.png"/>
        </div>
    </article>

</body>
<script type="module" src="/js/3d.js"></script>
<script>
    var video = document.getElementById("indexVideo");
    function myFunction() {
        if (video.paused) {
            video.play();
        }
    }

    let requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

    document.addEventListener('DOMContentLoaded', function () {
        const goTopButton = document.querySelector('[data-action="gotop"]');
        const windowViewPortHeight = window.innerHeight; // browser viewport height
        let isRequestingAnimationFrame = false;

        if (!goTopButton) {
            return;
        }

        goTopButton.addEventListener('click', function () {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        var aduioButton = document.querySelector('.arrow-btn');
        var music = document.getElementById("music");
        aduioButton.addEventListener('click', function () {
            if (aduioButton.style.transform == 'rotate(90deg)'){
                aduioButton.style.transform = 'rotate(0deg)';
                music.style.visibility = 'hidden';
                music.pause();
            } else {
                aduioButton.style.transform = 'rotate(90deg)';
                music.style.visibility = 'visible';
                
            }
            
            console.log('click');
        });
    });
</script>

</html>